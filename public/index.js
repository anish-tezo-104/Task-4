(()=>{"use strict";class e{constructor(e,t,n,i){this.headerFunctions=e,this.globalUtilityFunctions=t,this.filterOptions=n,this.filterFunctions=i}toggleSubSecClass(e){document.getElementById("employeeForm"),e.classList.contains("unlocked")&&(e.classList.contains("active")?(e.classList.remove("active"),this.globalUtilityFunctions.resetFormProfileImage(),this.globalUtilityFunctions.hideShowDepartmentListSidebar(!1)):(window.innerWidth<=900&&document.querySelector(".sidebar").classList.contains("active")&&this.headerFunctions.toggleSideBar(),document.querySelectorAll(".sub-sec").forEach((e=>{e.classList.remove("active")})),e.classList.add("active"))),this.filterFunctions.resetFilter(),this.globalUtilityFunctions.resetSelectedFiltersState()}handleUpdateDismiss(){document.querySelector(".update-message").classList.remove("active")}sidebarFilter(e){let t=this.filterFunctions.getSelectedFilters();const n=e.department[0];t.department=[n],document.querySelectorAll(".dropdown-options").forEach((t=>{var n;const i=null===(n=t.getAttribute("value"))||void 0===n?void 0:n.trim().toLowerCase();e.department.includes(i||"")?(t.classList.add("active"),t.classList.add("selected")):(t.classList.remove("active"),t.classList.remove("selected"))})),this.filterFunctions.handleFilterBar();const i=document.querySelector(".btn-apply"),s=document.querySelector(".btn-reset");i.disabled=!1,s.disabled=!1,0===e.department.length&&(i.disabled=!0,s.disabled=!0),e.department.length>0?this.globalUtilityFunctions.renderEmployees(this.filterFunctions.getFilteredData(t)):this.globalUtilityFunctions.renderEmployees(this.globalUtilityFunctions.getDataFromLocalStorage("employees")),this.populateDepartmentList()}populateDepartmentList(){console.log("Populate Department List");const e=this.globalUtilityFunctions.getDataFromLocalStorage("employees"),t={};e&&e.forEach((e=>{const n=e.department||"Others";t[n]=(t[n]||0)+1}));const n=document.getElementById("departmentList");n.innerHTML="";const i=this.filterOptions.department;i.includes("Others")||i.push("Others"),i.forEach((e=>{const i=t[e]||0,s=this.generateDepartmentListItem(e,i);n.insertAdjacentHTML("beforeend",s),delete t[e]}));for(const e in t){const i=t[e],s=this.generateDepartmentListItem(e,i);n.insertAdjacentHTML("beforeend",s)}}generateDepartmentListItem(e,t){return console.log("Generate List Item",e,t),`\n      <li onclick="window.ems.sideBarFunctions.sidebarFilter({ 'department': ['${e.trim().toLowerCase()}'] })">\n        <a href="#">\n          <div class="dept-details">\n            <div class="dept-names">${e}</div>\n            <div class="employee-dept-count">${t}</div>\n          </div>\n        </a>\n      </li>\n    `}}class t{constructor(){}toggleSideBar(){const e=document.querySelector(".sidebar"),t=document.querySelector(".grid-container"),n=document.querySelector(".sidebar-handle-icon img");if(e&&t&&n)if(e.classList.contains("active")){e.classList.remove("active"),t.style.gridTemplateColumns="6% 94%",document.querySelectorAll(".sub-sec-left-left img").forEach((e=>{e.style.paddingLeft="0.5rem"}));const i=document.querySelector(".sidebar-roles-icon"),s=document.querySelector(".sidebar-assign-user-icon");i&&(i.style.paddingLeft="0.3rem"),s&&(s.style.paddingLeft="0.3rem"),n&&(n.style.transform="rotate(-180deg)")}else{e.classList.add("active"),t.style.gridTemplateColumns="20% 80%",document.querySelectorAll(".sub-sec-left-left img").forEach((e=>{e.style.paddingLeft="1rem"}));const i=document.querySelector(".sidebar-roles-icon"),s=document.querySelector(".sidebar-assign-user-icon");i&&(i.style.paddingLeft="1rem"),s&&(s.style.paddingLeft="1rem"),n&&(n.style.transform="rotate(360deg)")}}handleBurger(e){const t=document.querySelector(".dropdown-content-header");t&&(t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active"))}}class n{constructor(e,t,n,i,s,o,l,a,r,c,d,u,m,p){this.empNo=e,this.firstName=t,this.lastName=n,this.dob=i,this.email=s,this.mobileNumber=o,this.joiningDate=l,this.status=a,this.location=r,this.jobTitle=c,this.department=d,this.assignManager=u,this.assignProject=m,this.profileImageBase64=p}}class i{constructor(e,t,n,i){this.globalUtilityFunctions=e,this.sidebarFunctions=t,this.renderingHTML=n,this.filterFunctions=i}populateSelectOptions(e,t){const n=document.getElementById(e);n?(n.innerHTML="",t.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)}))):console.error(`Select element with id '${e}' not found.`)}openProfileImageInput(){const e=document.getElementById("profileImageInput");e&&e.click()}handleFormSubmit(){const e=document.getElementById("employeeForm");if(e){const t=new FormData(e);this.validateForm(t)&&(this.createEmployeeFromFormData(t),e.reset(),this.globalUtilityFunctions.resetFormProfileImage(),alert("Employee data added successfully!"),this.renderingHTML.includeHTML("./html/employees.html").then((()=>{this.sidebarFunctions.populateDepartmentList(),this.filterFunctions.generateAlphabetButtons(),this.globalUtilityFunctions.loadEmployees(),this.filterFunctions.populateFilterOptions(!0,!0,!0)})))}else console.error("Employee form not found.");this.sidebarFunctions.populateDepartmentList()}createEmployeeFromFormData(e){const t=e.get("empNo"),i=e.get("firstName"),s=e.get("lastName"),o=new Date(e.get("dob")),l=e.get("email"),a=e.get("mobileNumber"),r=e.get("joiningDate"),c=e.get("location"),d=e.get("jobTitle"),u=e.get("department"),m=e.get("assignManager"),p=e.get("assignProject");let h="../assets/default-user.png";const g=e.get("profileImage");let y;if(g&&g.size>0){const e=new FileReader;e.readAsDataURL(g),e.onload=()=>{h=e.result,y=new n(t,i,s,o,l,a,r,!0,c,d,u,m,p,h),this.saveEmployeeToLocalStorage(y)}}else y=new n(t,i,s,o,l,a,r,!0,c,d,u,m,p,h),this.saveEmployeeToLocalStorage(y)}saveEmployeeToLocalStorage(e){let t=this.globalUtilityFunctions.getDataFromLocalStorage("employees")||[];e&&(t.push(e),localStorage.setItem("employees",JSON.stringify(t)));const n=document.getElementById("profileImagePreview");n&&(n.src="../assets/default-user.png")}validateForm(e){let t=!0;return["empNo","firstName","lastName","email","joiningDate"].forEach((e=>{const n=document.getElementById(e);n&&!n.value.trim()?(this.showInputErrorMessage(n),t=!1):n&&this.hideInputErrorMessage(n)})),t}previewProfileImage(e){var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onload=()=>{const t=document.getElementById("profileImagePreview");t&&(t.src=e.result)},e.readAsDataURL(n)}}showInputErrorMessage(e){const t=e.nextElementSibling;t&&t.classList.add("active")}hideInputErrorMessage(e){const t=e.nextElementSibling;t&&t.classList.remove("active")}}class s{constructor(e){this.locationOptions=["Select location","Hyderabad","Delhi","Mumbai","Bangalore","Seattle","New York"],this.jobTitleOptions=["Select job title","UX Designer","Front End Developer","Back End Developer","Full Stack Developer","Android Developer","iOS Developer","Java Developer","Python Developer","PHP Developer"],this.departmentOptions=["Select department","UI/UX","HR","IT","Product Engineering","Management","Finance"],this.managerOptions=["Select manager","None","John Doe","Jane Smith","Michael Johnson"],this.projectOptions=["Select project","None","Project 1","Project 2","Project 3"],this.addEmployeesForm=!1,this.selectedFilters=e}handleSidebarResponsive(){const e=document.querySelector(".sidebar");e&&(window.innerWidth<=900?e.classList.remove("active"):e.classList.add("active"))}loadEmployees(){let e=this.getDataFromLocalStorage("employees");e&&this.renderEmployees(e)}hideShowDepartmentListSidebar(e){const t=document.querySelector(".departments");t&&(e?t.classList.add("active"):t.classList.remove("active"))}renderEmployees(e){const t=document.querySelector(".employees-table tbody");t&&(t.innerHTML="",e.forEach((e=>{const n=document.createElement("tr");n.innerHTML=`\n            <td class="check-box-col"><input type="checkbox"/></td>\n            <td class="col col-user">\n                <div class="profile-card emp-card">\n                    <img src="${e.profileImageBase64}" alt="Employee Image" class="employee-img" />\n                    <div class="profile-details">\n                        <p class="profile-name">${e.firstName} ${e.lastName}</p>\n                        <p class="profile-email">${e.email}</p>\n                    </div>\n                </div>\n            </td>\n            <td class="col col-location">${e.location}</td>\n            <td class="col col-department">${e.department}</td>\n            <td class="col col-role">${e.jobTitle}</td>\n            <td class="col col-emp-no">${e.empNo}</td>\n            <td class="col col-status">\n                <div class="btn-active">${e.status?"Active":"Inactive"}</div>\n            </td>\n            <td class="col col-join-dt">${e.joiningDate}</td>\n            <td>\n                <span class="material-icons-outlined ellipsis-icon" onclick="window.ems.employeesFunctions.ellipsisFunction(this)">more_horiz</span>\n                <div class="ellipsis-menu">\n                    <ul>\n                        <li><a href="#" onclick="window.ems.employeesFunctions.viewDetails()">View Details</a></li>\n                        <li><a href="#" onclick="window.ems.employeesFunctions.editRow()">Edit</a></li>\n                        <li onclick="window.ems.employeesFunctions.deleteRow(this)"><a href="#">Delete</a></li>\n                    </ul>\n                </div>\n            </td>\n        `,t.appendChild(n)})))}getDataFromLocalStorage(e){const t=localStorage.getItem(e);return t?JSON.parse(t):[]}handlePostFormSubmissions(e,t,n){document.querySelectorAll(".error-message").forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("active")})),n.forEach((e=>{const t=document.querySelector(e);t&&t.classList.remove("active")})),e.reset()}extractTableData(){let e=document.querySelector(".employees-table"),t=["","STATUS","more_horiz"],n=Array.from(e.querySelectorAll("th")).map((e=>{var t;let n=e.querySelector("span:first-child");return n?null===(t=n.textContent)||void 0===t?void 0:t.trim():""})),i=n.filter((e=>!t.includes(null!=e?e:""))),s=Array.from(e.querySelectorAll("tbody tr")),o=[];return s.forEach((e=>{let i=Array.from(e.querySelectorAll("td")).map(((e,i)=>{var s,o,l;if(!t.includes(null!==(s=n[i])&&void 0!==s?s:"")){let t=null===(o=e.textContent)||void 0===o?void 0:o.trim();return'"'+(null!==(l=null==t?void 0:t.replace(/"/g,'""'))&&void 0!==l?l:"")+'"'}return""}));i=i.filter((e=>""!==e)),i.length>0&&o.push(i)})),{headers:i,data:o}}toggleSelectOptions(){const e=document.querySelector(".select-items");e&&e.classList.toggle("select-hide")}exportCSV(e,t,n){const i=this.convertToCSV(n,t);this.downloadCSVFile(i,e)}updateGridTemplateColumns(){var e=window.innerWidth,t=document.querySelector(".sidebar"),n=document.querySelector(".grid-container");e>900&&t&&t.classList.contains("active")?n&&(n.style.gridTemplateColumns="20% 80%"):n&&(n.style.gridTemplateColumns="100%")}convertToCSV(e,t=[]){let n="";if(0===e.length)return n;const i=Object.keys(e[0]).filter((e=>!t.includes(e)));return n+='"'+i.join('","')+'"\n',e.forEach((e=>{let t=i.map((t=>{let n=e[t];return"string"==typeof n&&n.includes('"')&&(n=n.replace(/"/g,'""')),"string"==typeof n&&n.includes(",")&&(n='"'+n+'"'),n})).join(",");n+=t+"\n"})),n}downloadCSVFile(e,t){let n=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",t),s.click(),URL.revokeObjectURL(i)}resetSelectedFiltersState(){this.selectedFilters.alphabet=[],this.selectedFilters.status=[],this.selectedFilters.location=[],this.selectedFilters.department=[]}resetFormProfileImage(){const e=document.getElementById("profileImagePreview");e&&(e.src="../assets/default-user.png")}}class o{constructor(e,t,n,i){this.globalUtilityFunctions=e,this.addEmployeeFunction=t,this.sideBarFunctions=n,this.filterFunctions=i}exportEmployeesToCSV(e,t){const n=this.filterFunctions.getSelectedFilters(),i=this.filterFunctions.getFilteredData(n);this.globalUtilityFunctions.exportCSV(e,t,i)}handleAddEmployeeBtn(e){this.globalUtilityFunctions.addEmployeesForm=!0,document.addEventListener("DOMContentLoaded",(()=>{if(1==this.globalUtilityFunctions.addEmployeesForm){const e=document.getElementById("displayWindow");e&&(e.innerHTML="")}}))}toggleFilterClass(e,t){const n=document.querySelector(".btn-status");e.classList.contains("active")?(e.classList.remove("active"),t.forEach((e=>{const t=document.querySelector(e);t&&t.classList.remove("active")})),n&&n.classList.remove("active")):(e.classList.add("active"),t.forEach((e=>{const t=document.querySelector(e);t&&t.classList.add("active")})),n&&n.classList.add("active"))}deleteSelectedRows(){const e=document.querySelectorAll(".check-box-col input"),t=[];e.forEach((e=>{if(e.checked){const n=e.closest("tr");n instanceof HTMLTableRowElement&&t.push(n)}}));let n=this.globalUtilityFunctions.getDataFromLocalStorage("employees");for(let e=1;e<t.length;e++){const i=t[e],s=i.querySelector(".col-emp-no");if(s){const e=s.textContent||"",t=n.findIndex((t=>t.empNo===e));-1!==t&&n.splice(t,1)}i.remove()}const i=Math.max(t.length-1,0);localStorage.setItem("employees",JSON.stringify(n)),alert("Successfully deleted "+i+" employees data"),this.globalUtilityFunctions.loadEmployees(),this.sideBarFunctions.populateDepartmentList()}toggleDeleteButtonVisibility(){const e=document.querySelector(".btn-delete"),t=document.querySelectorAll(".check-box-col input");let n=!1;t.forEach((e=>{e.checked&&(n=!0)})),e&&(e.disabled=!n)}sortTable(e){var t,n,i;let s,o,l,a,r=document.getElementById("employeesTable"),c=!0,d="ascending",u=0;for(;c;){c=!1,s=r.rows;let m=!1;for(o=1;o<s.length-1;o++)if(l=(null===(t=s[o].getElementsByTagName("TD")[e].textContent)||void 0===t?void 0:t.toLowerCase())||"",a=(null===(n=s[o+1].getElementsByTagName("TD")[e].textContent)||void 0===n?void 0:n.toLowerCase())||"","ascending"===d&&l>a||"descending"===d&&l<a){m=!0;break}m?(null===(i=s[o].parentNode)||void 0===i||i.insertBefore(s[o+1],s[o]),c=!0,u++):0===u&&"ascending"===d&&(d="descending",c=!0)}}deleteRow(e){const t=e.closest("tr");if(!t)return;const n=t.parentNode;if(!n)return;const i=Array.from(n.children).indexOf(t);if(-1===i)return;const s=this.globalUtilityFunctions.getDataFromLocalStorage("employees");s.splice(i,1),localStorage.setItem("employees",JSON.stringify(s)),t.remove(),this.globalUtilityFunctions.loadEmployees(),this.sideBarFunctions.populateDepartmentList(),alert("Employee data deleted successfully!")}ellipsisFunction(e){const t=e.nextElementSibling;t&&(t.style.display="block"===t.style.display?"none":"block")}updateSelectedOptions(){const e=document.querySelectorAll(".select-items input[type='checkbox']"),t=[];e.forEach((function(e){e.checked&&t.push(e.value)}));const n=document.querySelector(".select-selected");n&&(n.textContent=t.length?t.join(", "):"Select an option")}handleCheckbox(e){e.addEventListener("click",this.updateSelectedOptions)}}class l{constructor(e,t){this.globalUtilityFunctions=e,this.selectedFilters=t}generateFilterOptions(e,t){return e.map((e=>`\n        <div class="dropdown-options ${t}" onclick="window.ems.filterFunctions.selectOption(this)" value="${e}">\n            ${e}\n        </div>\n    `)).join("")}populateFilterOptions(e,t,n){const i=document.getElementById("filterContainerLeft");if(!i)return;let s="";t&&(s+=`\n            <div class="dropdown dropdown-status" onclick="window.ems.filterFunctions.handleFilterDropdown(this)">\n                <button class="filter-btn btn-status dropbtn" data-default-text="Status">\n                    <div>Status</div>\n                    <div class="expand-more-icon">\n                        <span class="material-icons-outlined expand-more-icon">\n                            expand_more\n                        </span>\n                    </div>\n                </button>\n                <div class="dropdown-content">\n                    ${window.ems.filterFunctions.generateFilterOptions(window.ems.filterOptions.status,"status")}\n                </div>\n            </div>\n        `),e&&(s+=`\n            <div class="dropdown dropdown-location" onclick="window.ems.filterFunctions.handleFilterDropdown(this)">\n                <button class="filter-btn btn-location dropbtn" data-default-text="Location">\n                    <div>Location</div>\n                    <div class="expand-more-icon">\n                        <span class="material-icons-outlined expand-more-icon">\n                            expand_more\n                        </span>\n                    </div>\n                </button>\n                <div class="dropdown-content">\n                    ${window.ems.filterFunctions.generateFilterOptions(window.ems.filterOptions.location,"location")}\n                </div>\n            </div>\n        `),n&&(s+=`\n            <div class="dropdown dropdown-department" onclick="window.ems.filterFunctions.handleFilterDropdown(this)">\n                <button class="filter-btn btn-department dropbtn" data-default-text="Department">\n                    <div>Department</div>\n                    <div class="expand-more-icon">\n                        <span class="material-icons-outlined expand-more-icon">\n                            expand_more\n                        </span>\n                    </div>\n                </button>\n                <div class="dropdown-content">\n                    ${window.ems.filterFunctions.generateFilterOptions(window.ems.filterOptions.department,"department")}\n                </div>\n            </div>\n        `),i.innerHTML=s}handleFilterDropdown(e){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}selectOption(e){var t;e.classList.toggle("selected"),e.classList.toggle("active");const n=(null===(t=e.getAttribute("value"))||void 0===t?void 0:t.trim().toLowerCase())||"";document.querySelectorAll(".dropdown-options").forEach((t=>{var i;(null===(i=t.getAttribute("value"))||void 0===i?void 0:i.trim().toLowerCase())===n&&(t.classList.toggle("selected",e.classList.contains("selected")),t.classList.toggle("active",e.classList.contains("active")))})),this.handleFilterBar()}handleFilterBar(){const e=document.querySelectorAll(".filter-btn");let t=0;e.forEach((e=>{const n=e.nextElementSibling.querySelectorAll(".dropdown-options.selected.active").length;e.querySelector("div").textContent=n>0?`${n} Selected`:e.getAttribute("data-default-text")||"",t+=n}));const n=document.querySelector(".btn-reset"),i=document.querySelector(".btn-apply");n&&i&&(t>0?(n.disabled=!1,i.disabled=!1):(this.updateFilteredResults(),n.disabled=!0,i.disabled=!0))}resetFilter(){const e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".dropdown-options"),n=document.querySelector(".dropdown");document.querySelectorAll(".alph-btn").forEach((e=>{e.classList.remove("active")})),e.forEach((e=>{var t;const n=e.querySelector("div");n&&(n.textContent=e.getAttribute("data-default-text")||"");const i=null===(t=e.closest(".dropdown"))||void 0===t?void 0:t.querySelector(".dropdown-content");i&&i.classList.remove("active")})),n&&n.classList.remove("active"),t.forEach((e=>{e.classList.remove("active","selected")}));const i=document.querySelector(".btn-reset"),s=document.querySelector(".btn-apply");i&&(i.disabled=!0),s&&(s.disabled=!0),this.globalUtilityFunctions.resetSelectedFiltersState(),this.updateFilteredResults()}updateFilteredResults(){const e=this.getSelectedFilters();this.globalUtilityFunctions.renderEmployees(this.getFilteredData(e))}generateAlphabetButtons(){const e=document.getElementById("alphabetsContainer");if(e)for(let t=65;t<=90;t++){const n=String.fromCharCode(t),i=document.createElement("div");i.classList.add("alph-btn",`btn-${n.toLowerCase()}`),i.textContent=n,i.addEventListener("click",(()=>{this.filterEmployeesByAlphabet(i)})),e.appendChild(i)}}filterEmployeesByAlphabet(e){const t=document.querySelectorAll(".alph-btn"),n=document.querySelector(".icon-filter");n&&n.classList.add("active"),e.classList.toggle("active"),this.selectedFilters.alphabet=[],t.forEach((e=>{var t;e.classList.contains("active")&&this.selectedFilters.alphabet.push((null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase())||"")}));const i=0===this.selectedFilters.alphabet.length,s=document.querySelector(".btn-apply"),o=document.querySelector(".btn-reset");s&&o&&(i?(n&&n.classList.remove("active"),s.disabled=!0,o.disabled=!0):(s.disabled=!1,o.disabled=!1))}getSelectedFilterOptions(e){const t=[];return document.querySelectorAll(`${e} .dropdown-options.selected`).forEach((e=>{const n=(e.getAttribute("value")||"").trim().toLowerCase();"all"===n?t.push("active","inactive"):t.includes(n)||t.push(n)})),t}getSelectedAlphabets(){const e=[];return document.querySelectorAll(".alph-btn").forEach((t=>{var n;if(t.classList.contains("active")){const i=(null===(n=t.textContent)||void 0===n?void 0:n.trim().toLowerCase())||"";e.includes(i)||e.push(i)}})),e}getSelectedFilters(){return{alphabet:this.getSelectedAlphabets(),status:this.getSelectedFilterOptions(".dropdown-status"),location:this.getSelectedFilterOptions(".dropdown-location"),department:this.getSelectedFilterOptions(".dropdown-department")}}getFilteredData(e={alphabet:[],status:[],department:[],location:[]}){return this.globalUtilityFunctions.getDataFromLocalStorage("employees").filter((t=>{const n=t.firstName?t.firstName.toLowerCase():"n/a",i=t.location?t.location.toLowerCase():"n/a",s=t.department?t.department.toLowerCase():"n/a",o=t.status?"active":"inactive";return(0===e.alphabet.length||e.alphabet.some((e=>n.startsWith(e.toLowerCase()))))&&(0===e.status.length||e.status.includes(o))&&(0===e.department.length||e.department.includes(s))&&(0===e.location.length||e.location.includes(i))}))}}class a{constructor(){}includeHTML(e,t="displayWindow"){return n=this,i=void 0,o=function*(){try{const n=yield fetch(e),i=yield n.text(),s=document.getElementById(t);s&&(s.innerHTML="",s.innerHTML+=i)}catch(t){console.error(`Error fetching ${e}:`,t)}},new((s=void 0)||(s=Promise))((function(e,t){function l(e){try{r(o.next(e))}catch(e){t(e)}}function a(e){try{r(o.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(l,a)}r((o=o.apply(n,i||[])).next())}));var n,i,s,o}}var r=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function l(e){try{r(i.next(e))}catch(e){o(e)}}function a(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}r((i=i.apply(e,t||[])).next())}))};const c=new class{constructor(){this.filterOptions={status:["Active","Inactive","All"],location:["Hyderabad","Delhi","Mumbai","Bangalore","Seattle","New York"],department:["IT","HR","Finance","Product Engineering","UI/UX","Management"]},this.main(),this.selectedFilters={alphabet:[],status:[],department:[],location:[]},this.globalUtilityFunctions=new s(this.selectedFilters),this.renderingHTML=new a,this.headerFunctions=new t,this.filterFunctions=new l(this.globalUtilityFunctions,this.selectedFilters),this.sideBarFunctions=new e(this.headerFunctions,this.globalUtilityFunctions,this.filterOptions,this.filterFunctions),this.addEmployeesFunctions=new i(this.globalUtilityFunctions,this.sideBarFunctions,this.renderingHTML,this.filterFunctions),this.employeesFunctions=new o(this.globalUtilityFunctions,this.addEmployeesFunctions,this.sideBarFunctions,this.filterFunctions)}main(){return r(this,void 0,void 0,(function*(){document.addEventListener("DOMContentLoaded",(()=>r(this,void 0,void 0,(function*(){yield this.renderingHTML.includeHTML("./html/sidebar.html","sidebarContainer"),yield this.renderingHTML.includeHTML("./html/header.html","headerContainer"),this.globalUtilityFunctions.handleSidebarResponsive(),this.sideBarFunctions.populateDepartmentList(),this.attachClickEventListeners()}))))}))}attachClickEventListeners(){document.querySelectorAll(".sub-sec").forEach((e=>{e.addEventListener("click",(()=>this.handlePageRendering(e)))}))}handlePageRendering(e){document.querySelectorAll(".sub-sec").forEach((t=>{if(t.classList.contains("active"))t===e&&(e.classList.contains("employees")&&!this.globalUtilityFunctions.addEmployeesForm?(this.globalUtilityFunctions.addEmployeesForm=!1,this.renderingHTML.includeHTML("./html/employees.html"),this.globalUtilityFunctions.hideShowDepartmentListSidebar(!0),this.handleEmployeesPage()):e.classList.contains("dashboard")?(this.globalUtilityFunctions.addEmployeesForm=!1,this.renderingHTML.includeHTML("./html/dashboard.html"),this.globalUtilityFunctions.hideShowDepartmentListSidebar(!1)):e.classList.contains("roles")?(this.globalUtilityFunctions.addEmployeesForm=!1,this.renderingHTML.includeHTML("./html/role.html"),this.globalUtilityFunctions.hideShowDepartmentListSidebar(!1),this.handleRolesPage()):e.classList.contains("access-rights")&&(this.globalUtilityFunctions.addEmployeesForm=!1,this.renderingHTML.includeHTML("./html/accessRights.html"),this.globalUtilityFunctions.hideShowDepartmentListSidebar(!1)));else{const e=document.getElementById("displayWindow");e&&(e.innerHTML="")}}))}handleRolesPage(){return r(this,void 0,void 0,(function*(){yield this.renderingHTML.includeHTML("./html/role.html"),this.filterFunctions.populateFilterOptions(!0,!1,!0);const e=document.querySelector(".function-add-role-button");e&&e.addEventListener("click",(()=>{this.renderingHTML.includeHTML("./html/addRoles.html").then((()=>{this.handleAddRolesPage()}))}))}))}handleAddRolesPage(){const e=document.querySelector(".select-selected");document.querySelector(".select-items"),e&&e.addEventListener("click",this.globalUtilityFunctions.toggleSelectOptions),document.querySelectorAll(".select-items input[type='checkbox']").forEach((e=>this.employeesFunctions.handleCheckbox(e)))}handleEmployeesPage(){return r(this,void 0,void 0,(function*(){yield this.renderingHTML.includeHTML("./html/employees.html"),this.sideBarFunctions.populateDepartmentList();const e=document.querySelector(".function-add-button");e&&e.addEventListener("click",(()=>{this.renderingHTML.includeHTML("./html/addEmployee.html").then((()=>{this.handleAddEmployeePage()}))})),this.filterFunctions.generateAlphabetButtons(),this.globalUtilityFunctions.loadEmployees(),this.filterFunctions.populateFilterOptions(!0,!0,!0)}))}handleAddEmployeePage(){this.addEmployeesFunctions.populateSelectOptions("location",this.globalUtilityFunctions.locationOptions),this.addEmployeesFunctions.populateSelectOptions("jobTitle",this.globalUtilityFunctions.jobTitleOptions),this.addEmployeesFunctions.populateSelectOptions("department",this.globalUtilityFunctions.departmentOptions),this.addEmployeesFunctions.populateSelectOptions("assignManager",this.globalUtilityFunctions.managerOptions),this.addEmployeesFunctions.populateSelectOptions("assignProject",this.globalUtilityFunctions.projectOptions);const e=document.getElementById("profileImageInput"),t=document.getElementById("addProfilePhotoButton");e&&t&&(t.addEventListener("click",this.addEmployeesFunctions.openProfileImageInput),e.addEventListener("change",this.addEmployeesFunctions.previewProfileImage));const n=document.getElementById("addEmployeesCancelButton");let i=document.getElementById("employeeForm");n&&n.addEventListener("click",(()=>{i&&i.reset(),this.renderingHTML.includeHTML("./html/employees.html").then((()=>{this.handleEmployeesPage()}))}))}};window.ems=c})();